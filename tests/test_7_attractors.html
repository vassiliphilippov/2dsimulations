<html>
<head>
  <title>Test 7: Attractors</title>
  <script src="../matter_profile.js"></script>
  <script src="../profiler.js"></script>
  <script src="../force.js"></script>
  <script src="../zonemap.js"></script>
  <script src="../background.js"></script>
  <script src="../debug.js"></script>
  <script src="../chemistryparticles.json"></script>
  <script src="../chemistrycompoundstructures.js"></script>
  <script src="../atomcolors.json"></script>
  <script src="../periodictable.json"></script>
  <script src="../chemistry.js"></script>
  <script src="../particles.js"></script>
  <script src="../temperature.js"></script>
  <script src="../chemistryrender.js"></script>
  <script src="../proximity.js"></script>
  <script src="../textureloader.js"></script>
  <script src="../scenario.js"></script>
  <script src="../animation.js"></script>
  <script src="../groups.js"></script>
  <script src="../clipper.js"></script>
  <script src="../transformation.js"></script>
  <script src="../atomdrawer.js"></script>
  <script src="../pixi.min.js"></script>
</head>
<body>
<pre id="profileoutput"></pre><p><button onclick="document.getElementById('profileoutput').innerHTML = Profiler.getStatistics(true)">Output profile informationt</button></p>
<script>

var engine = null;
var attractor1 = null;

ZoneMap.load("map7.png", function (zoneMap) {
    [engine, render] = Chemistry.createAndInitEngineAndRender(zoneMap, document.body, true, true);
    attractor1 = new AttractorList(engine).get(0);
    attractor2 = new AttractorList(engine).get(1);
    Chemistry.run(engine, render);
});

</script>
<p>
  Attractors are special bodies that are fixed, invisible, and don't collide with other bodies. Any zone in zonemap with blue=3 is an attractor.
  You can say to any body to attract to the given attractor and it will create a special force just between this body and the attractor.
</p>
<p>
<button onclick="new AttractorList(engine).show();">Show attractors</button>
</p>
<p>
H2:
<button onclick="new ParticleList(engine).formula('H2').addAttraction(attractor1)">Add attraction #1</button>
<button onclick="new ParticleList(engine).formula('H2').removeAttraction(attractor1)">Remove attraction #1</button>
<button onclick="new ParticleList(engine).formula('H2').addAttraction(attractor2)">Add attraction #2</button>
<button onclick="new ParticleList(engine).formula('H2').removeAttraction(attractor2)">Remove attraction #2</button>
<button onclick="new ParticleList(engine).formula('H2').setTemperature(30)">T=30</button>
<button onclick="new ParticleList(engine).formula('H2').setTemperature(300)">T=300</button>
<button onclick="new ParticleList(engine).formula('H2').setTemperature(1000)">T=1000</button>
</p>
<p>
H20:
<button onclick="new ParticleList(engine).formula('H2O').addAttraction(attractor1)">Add attraction #1</button>
<button onclick="new ParticleList(engine).formula('H2O').removeAttraction(attractor1)">Remove attraction #1</button>
<button onclick="new ParticleList(engine).formula('H2O').addAttraction(attractor2)">Add attraction #2</button>
<button onclick="new ParticleList(engine).formula('H2O').removeAttraction(attractor2)">Remove attraction #2</button>
<button onclick="new ParticleList(engine).formula('H2O').setTemperature(30)">T=30</button>
<button onclick="new ParticleList(engine).formula('H2O').setTemperature(300)">T=300</button>
<button onclick="new ParticleList(engine).formula('H2O').setTemperature(1000)">T=1000</button>
</p>
<p><a href="map7.png">Map file</a>.</p>
</body>
</html>