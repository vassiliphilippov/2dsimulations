<html>
<head>
  <title>Test 4: Creating particles manually</title>
  <script src="../matter.js"></script>
  <script src="../force.js"></script>
  <script src="../zonemap.js"></script>
  <script src="../background.js"></script>
  <script src="../debug.js"></script>
  <script src="../chemistryparticles.json"></script>
  <script src="../chemistrycompoundstructures.js"></script>
  <script src="../atomcolors.json"></script>
  <script src="../periodictable.json"></script>
  <script src="../chemistry.js"></script>
  <script src="../particles.js"></script>
  <script src="../temperature.js"></script>
  <script src="../chemistryrender.js"></script>
</head>
<body>
<script>

ZoneMap.load("map4.png", function (zoneMap) {
    Chemistry.spaceScale = 0.1;
    engine = Matter.Engine.create();
    var render = ChemistryRender.create({element: document.body, engine: engine, options: {width: zoneMap.width, height: zoneMap.height}});
    Background.setBackground(engine.world, "background4.png", zoneMap.width, zoneMap.height);

    ZoneMap.spawnSeries(zoneMap, [1, 0, 210], (x, y, width, height) => {
        World.add(engine.world, Chemistry.create("Na+", x, y));
    });

    ZoneMap.spawnRandom(zoneMap, [0, 200, 210], 100, (x, y) => {
        World.add(engine.world, Chemistry.create("H2O", x, y));
    });

    ZoneMap.spawnLattice(zoneMap, [200, 0, 210], Chemistry.spaceScale*300, Chemistry.spaceScale*300, (x, y) => {
        World.add(engine.world, Chemistry.create("Zn", x, y));
    });
  
    console.log(engine.world.bodies);
    engine.world.gravity.y = 0;
    new BodyList(engine).label("border").hide();

    Debug.init(engine);
    Force.init(engine);
    Temperature.init(engine);

    Matter.Engine.run(engine);
    ChemistryRender.run(render);
});

</script>
</body>
</html>